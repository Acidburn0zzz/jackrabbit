<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE digester-rules PUBLIC
 "-//Jakarta Apache //DTD digester-rules XML V1.0//EN"
 "digester-rules.dtd">
<digester-rules>

  <pattern value="commands/command">
    <object-create-rule classname="org.apache.jackrabbit.chain.cli.CommandLine"/>
    <set-properties-rule/>
	<call-method-rule pattern="alias" methodname="addAlias" paramcount="1" />
	<call-param-rule pattern="alias" paramnumber="0" attrname="name"/>
    <set-next-rule methodname="add" paramtype="java.lang.Object"/>
  </pattern>

  <pattern value="commands/command/argument">
	<object-create-rule classname="org.apache.jackrabbit.chain.cli.Argument" />
	<set-next-rule methodname="addArgument" />
    <set-properties-rule>
		<alias attr-name="arg-name" prop-name="argName"/>
		<alias attr-name="command-attribute" prop-name="commandAttribute"/>
    </set-properties-rule>
  </pattern>  
  
  <pattern value="commands/command/option">
	<object-create-rule classname="org.apache.jackrabbit.chain.cli.Option" />
    <set-properties-rule>
		<alias attr-name="arg-name" prop-name="argName"/>
		<alias attr-name="command-attribute" prop-name="commandAttribute"/>
    </set-properties-rule>
	<set-next-rule methodname="addOption" />
  </pattern>  

  <pattern value="commands/command/flag">
	<object-create-rule classname="org.apache.jackrabbit.chain.cli.Flag" />
    <set-properties-rule>
		<alias attr-name="command-attribute" prop-name="commandAttribute"/>
    </set-properties-rule>
	<set-next-rule methodname="addFlag" />
  </pattern>  
  
</digester-rules>
