Release Notes -- Apache Jackrabbit Core -- Version 1.4.3

Introduction
------------

This is the 1.4.3 patch release of the jackrabbit-core component of
Apache Jackrabbit, a fully conforming implementation of the Content
Repository for Java Technology API (JCR).

This release contains fixes to a number of issues, most notably the
concurrent modification exception reported in JCR-1359 and two concurrent
versioning deadlocks reported in JCR-1462 and JCR-1480. See below for
the full list of changes in this release.

See the Apache Jackrabbit website at http://jackrabbit.apache.org/ for
more information.

Release Contents
----------------

Unlike previous Jackrabbit releases that contained a full set of components,
this patch release only contains the jackrabbit-core component. The component
is distributed both as a source archive and a pre-compiled binary.

    * Source archive (jackrabbit-core-1.4.3-src.jar)

        The source archive contains the full source code of this release
        in a "jackrabbit-core-1.4.3" directory. Use the following commands
        (or the equivalent in your environment) to build the component
        with Maven 2 and Java 1.4 or higher:

          $ jar xf jackrabbit-core-1.4.3-src.jar
          $ cd jackrabbit-1.4.3
          $ mvn install

    * Pre-compiled binary (jackrabbit-core-1.4.3.jar)

        Core of the Apache Jackrabbit content repository implementation.

See the included README.txt file for more information.

Each release file is accompanied by SHA1 and MD5 checksums and a PGP
signature. The public key used for the signatures can be found
in the KEYS file.

Changes and known issues in this release
----------------------------------------

All the changes and known issues in this release are listed below.
The issue identifier and title is listed for each change and known issue.
You can look up individual issues for more details in the Jackrabbit
issue tracker at http://issues.apache.org/jira/browse/JCR

  Improvements

  Bug fixes

  Known issues
  [JCR-43]   Restore on nodes creates same-name-sibling of ...
  [JCR-320]  BinaryValue equals fails for two objects with ...
  [JCR-392]  Querying element by number does not work
  [JCR-435]  Node.update() does not work correct for SNS
  [JCR-449]  inconsistency in internal version items during commits
  [JCR-517]  Reserved status of namespace jcr not enforced
  [JCR-522]  XPath parser too tolerant
  [JCR-537]  Failure to remove a versionable node
  [JCR-538]  failing Node.checkin() or Node.checkout() might leave ...
  [JCR-566]  Versioning bug with restore and transactions
  [JCR-575]  unicode escapes in files generated by JJTree
  [JCR-591]  XPath position function does not work
  [JCR-639]  Allow modification of OPV=IGNORE items even if parent ...
  [JCR-643]  Own AccessManager + VersionManager : AccessDenied problem
  [JCR-690]  Nodes' and properties' names with invalid XML ...
  [JCR-709]  ArrayStoreException is thrown when jcr:deref() is used ...
  [JCR-777]  Order by clause using child axis does not throw ...
  [JCR-843]  XPath does not work with sub-axes
  [JCR-908]  Unable to properly restore a previous version of a node that ...
  [JCR-932]  Lossy SQL parsing
  [JCR-935]  ConcurrentModificationException during logout (cont'd)
  [JCR-936]  Using Oracle bundle PM throws SQL exception (cannot insert NULL)
  [JCR-983]  fn:upper accepted in too many places
  [JCR-1002] QueryManager does not throw exception if property name ...
  [JCR-1075] Error with predicate in query with multiple jcr:deref()
  [JCR-1117] Bundle cache is not rolled back when the storage of a ...
  [JCR-1135] boolean value constraints exposed in custom format
  [JCR-1173] Session scoped lock has no effect on other cluster nodes
  [JCR-1187] Asking a property twice for it's stream returns the same ...
  [JCR-1211] QueryManager does not throw exception if jcr:deref is used in ...
  [JCR-1223] Occasional NPE on node checkin
  [JCR-1248] ParseException if search string ends with '!'
  [JCR-1334] Deadlock with XA enabled
  [JCR-1354] Repository shutdown reposts ERROR: failed to close connection
  [JCR-1360] Parsing built-in CND and XML nodetypes does not result in ...
  [JCR-1362] DatabaseJournal improperly finds tables in external schemas ...
  [JCR-1367] Exception when closing connection under db2
  [JCR-1387] Lock token not removed from session when node is removed
  [JCR-1440] NPE Thrown when two Cluster Nodes are hitting the same ...
  [JCR-1450] move method of the MemoryFileSystem may accept invalid ...
  [JCR-1463] Core: Failing version tests (testRestore...)
  [JCR-1474] consistency check fails with derbypm if bundle size exceeds 32k
  [JCR-1476] Restore to base version throws NullPointerException
  [JCR-1481] VersionHistory.removeVersion() does not throw ...
